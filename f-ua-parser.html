<link rel="import" href="../polymer/polymer.html">

<script>
  window.FirmFirm = window.FirmFirm || {};
  const UAParser = require('../ua-parser-js/dist/ua-parser.min.js');
  FirmFirm.UaParser = (function () {
    class UaParser extends Polymer.Element {
      static get is() { return 'f-ua-parser'; }
      static get properties() {
        return {
          ua: String,
          data: {
            type: Object,
            notify: true,
            computed: '_computeData(ua)',
          },
        };
      }
      _computeData(ua) {
        if (!ua) return;
        const parser = new UAParser();
        parser.setUA(ua);
        return parser.getResult();
      }
    }
    customElements.define(UaParser.is, UaParser);
    return UaParser;
  })();
</script>